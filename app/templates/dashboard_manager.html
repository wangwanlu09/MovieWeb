{% extends "navdash_manager.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<div class="card text-center ">
    <div class="card-header">
      <strong>MY DASHBOARD</strong>
    </div>
    <div class="card-body">
      <h2 class="card-title">Welcome Back {{ firstname['firstname'] }}!</h2>
      <!-- <p class="card-text">Welcome Back! Are you looking for the following functions?</p>
      <a href="#" class="btn btn-dark mx-1">Function 1 </a>
      <a href="#" class="btn btn-dark mx-1">Function 2</a> -->
    </div>
    <div class="card-footer text-body-secondary"  id="current_date">
      Wendesday,7 February
    </div>
  </div>
  <div class="container d-flex justify-content-center">
    <div class="card mt-5 container mx-2" style="box-shadow: 0px 4px 8px 0px rgba(70, 70, 70, 0.2); width: 500px;">
        <div class="card-header">
            Customer Checkin
        </div>
        <div class="card-body">
          <h4 class="card-title">Upcoming Session</h4>
          <div><span class="fw-bold mx-2">Title:</span>{{ latestsession['title'] }}</div>
          <div><span class="fw-bold mx-2">Session Time:</span>{{ latestsession['session12hours'] }}</div>
          <div><span class="fw-bold mx-2">Cinema:</span>{{ latestsession['name'] }}</div>
          <a href="{{ url_for('checkIn.session_checkin') }}" class="btn btn-dark mt-3">View all</a>
        </div>
    </div>

  <div class="card mt-5 container mx-2" style="box-shadow: 0px 4px 8px 0px rgba(70, 70, 70, 0.2); width: 500px;">
    <div class="card-header">
        Management
    </div>
    <div class="card-body">
      <h4 class="card-title">I Want To ...</h4>
      <div><span class="fw-bold mx-2">Manage Movies?   </span><a href="{{ url_for('managemovies.movies_view') }}" class="mt-3">Click Here</a></div>
      <br>
      <div><span class="fw-bold mx-2">Manage Schedules?   </span><a href="{{ url_for('movie_schedule.manage_schedules') }}" class="mt-3">Click Here</a></div>
      <br>
      <div><span class="fw-bold mx-2">Manage Staff? </span></span><a href="{{ url_for('manage_staff.manage_employees') }}" class="mt-3">Click Here</a></div>
      <!-- <a href="#" class="btn btn-dark mt-3">View all</a> -->
    </div>
  </div>

  <div class="card mt-5 container mx-2" style="box-shadow: 0px 4px 8px 0px rgba(70, 70, 70, 0.2); width: 500px;">
    <div class="card-header">
      Reports
    </div>
    <div class="card-body">
      <h4 class="card-title">Last 30 Days Statistics </h4>
      <div><span class="fw-bold mx-2">Ticket Sales:</span>${{ticketsales_amt}}</div>
      <div><span class="fw-bold mx-2">Number of Bookings:</span>{{countbookings}}</div>
      <div><span class="fw-bold mx-2">Number of New Customers:</span>{{newcustomers}}</div>
      <a href="{{ url_for('reports.report_overview') }}" class="btn btn-dark mt-3">View More</a>
    </div>
  </div>
 
  </div>

  <script>
    const daysOfWeek = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    const monthNames = ["Jan", "Feb", "Mar", "Apr",
            "May", "Jun", "Jul", "Aug",
            "Sep", "Oct", "Nov", "Dec"];
    const date = new Date();
    const dayName = daysOfWeek[date.getDay()];
    const day = date.getDate();
    const monthIndex = date.getMonth();
    const monthName = monthNames[monthIndex];
    const year = date.getFullYear();
    document.getElementById("current_date").innerHTML = `${dayName}, ${day} ${monthName} ${year}`;
</script>

{% endblock %}